#实验报告

##`++/--`运算符

`++/--`运算符是一元运算符，语义分析过程应该和其它一元运算符相同。仿照`-`的实现方法对TypeCheck进行了修改，检查类型是否为整数。之后发现错误信息中的位置显示不正确，于是对于Parser中的位置信息进行了修正。

##三元运算符

三元运算符在TypeCheck中没有实现，所以需要重载`visitTernary()`。三元运算符有两种类型错误。一种是条件不是布尔类型，另一种是冒号前后类型不一致。这两种错误是独立的，即一个运算中如果同时具有这两种错误，就要产生两条错误信息。对于后一种错误，还需要单独定义一个错误类型，实现为`IncompatTerOpError`。

##反射运算

重载了TypeCheck中`visitTypeCount()`函数。该函数会触发`ClassNoFoundError`。

##串行条件卫士语句

条件卫士语句与之前的三种运算符都不同，因为其中包含语句块，所以需要创建符号表。首先在BuildSym中重载了`visitGuardedIf()`和`visitGuardedStmt()`。然后在TypeCheck中对于各种错误进行了处理。

##串行循环卫士语句

循环卫士语句的实现和条件卫士语句基本相同。需要注意的是循环卫士指令内部是支持`break`的，所以在TypeCheck中，处理循环卫士之前需要先在`breaks`中压栈，处理完后再弹栈。